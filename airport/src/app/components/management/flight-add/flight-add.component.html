<div class="container-custom">
  <div class="overlay" *ngIf="isFetching">
    <div class="position-absolute top-50 start-50 translate-middle">
      <div class="spinner-border" role="status">
        <span class="visually-hidden">Loading...</span>
      </div>
    </div>
  </div>
  <div class="container-xl bg-white ps-5 pe-5">
    <div class="row">
      <div class="col mb-5">
        <h1 class="mt-5">Add flight</h1>
        <p class="mt-3">Create a new flight.</p>
        <div class="row">
          <div class="col-lg-6">
            <div class="card mt-2 rounded-0">
              <div class="card-body">
                <h5 class="card-title col d-flex align-items-center"><span class="material-icons me-2">flight</span>Flight</h5>
                <form #flightForm="ngForm" (ngSubmit)="onSubmit(flightForm)">
                  <div class="col mt-4">
                    <div class="row">
                      <div class="col-6">
                        <div class="form-floating">
                          <input type="datetime-local"
                                 class="form-control rounded-0"
                                 id="departureDate"
                                 placeholder="Date of departure"
                                 ngModel
                                 name="dateOfDeparture"
                                 required
                          >
                          <label for="departureDate">Date of departure</label>
                        </div>
                      </div>
                      <div class="col-6">
                        <div class="form-floating">
                          <input type="datetime-local"
                                 class="form-control rounded-0"
                                 id="arrivalDate"
                                 placeholder="Date of arrival"
                                 ngModel
                                 name="dateOfArrival"
                                 required
                          >
                          <label for="arrivalDate">Date of arrival</label>
                        </div>
                      </div>
                    </div>
                    <div class="row mt-4">
                      <div class="col-6">
                        <div class="form-floating">
                          <select class="form-select rounded-0"
                                  id="origin"
                                  ngModel
                                  name="originId"
                                  required
                          >
                            <option value="{{airport?.id}}" *ngFor="let airport of airports">{{airport.codeIATA}}</option>
                          </select>
                          <label for="origin">Origin</label>
                        </div>
                      </div>
                      <div class="col">
                        <div class="form-floating">
                          <select class="form-select rounded-0"
                                  id="destination"
                                  ngModel
                                  name="destinationId"
                                  required
                          >
                            <option value="{{airport?.id}}" *ngFor="let airport of airports">{{airport.codeIATA}}</option>
                          </select>
                          <label for="destination">Destination</label>
                        </div>
                      </div>
                    </div>
                    <div class="col mt-4">
                      <div class="row">
                        <div class="col">
                          <div class="form-floating">
                            <input type="text"
                                   class="form-control rounded-0"
                                   id="flightNumber"
                                   placeholder="Flight number"
                                   ngModel
                                   name="flightNumber"
                                   required
                            >
                            <label for="flightNumber">Flight number</label>
                          </div>
                        </div>
                        <div class="col">
                          <div class="form-floating">
                            <input type="text"
                                   class="form-control rounded-0"
                                   id="gate"
                                   placeholder="Gate"
                                   ngModel
                                   name="gate"
                                   required
                            >
                            <label for="gate">Gate</label>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="col mt-4">
                      <div class="row">
                        <div class="col">
                          <div class="form-floating">
                            <input type="text"
                                   class="form-control rounded-0"
                                   id="status"
                                   placeholder="Status"
                                   ngModel
                                   name="status"
                                   required
                            >
                            <label for="status">Status</label>
                          </div>
                        </div>
                        <div class="col">
                          <div class="form-floating">
                            <input type="number"
                                   class="form-control rounded-0"
                                   id="price"
                                   placeholder="Price"
                                   ngModel
                                   name="pricePerPassenger"
                                   required
                            >
                            <label for="price">Price</label>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="col mt-4">
                      <div class="row">
                        <div class="col">
                          <div class="form-floating">
                            <select class="form-select rounded-0"
                                    id="airplane"
                                    ngModel
                                    name="airplaneId"
                                    required
                            >
                              <option value="{{airplane?.id}}" *ngFor="let airplane of airplanes"
                                      [class.disabled-field]="airplane?.isInRepair">
                                {{airplane.airline}} {{airplane.maker}} {{airplane.model}} {{airplane.identifier}}
                              </option>
                            </select>
                            <label for="origin">Airplane</label>
                          </div>
                        </div>
                      </div>
                      <div class="col mt-4 d-flex justify-content-end">
                        <button class="btn-base btn-black" type="submit" [disabled]="!flightForm.valid">Create</button>
                      </div>
                    </div>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
